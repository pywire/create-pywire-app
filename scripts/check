#!/bin/sh
set -e

echo "ðŸ” Running checks for create-pywire-app..."

if [ -t 1 ]; then
    COLOR_ARGS="--color=yes"
else
    COLOR_ARGS="--color=no"
fi

echo "-> Testing (Multi-version)..."
# Use uv run to execute tox from dev dependencies, ensuring availability for all cloners
if command -v tox >/dev/null 2>&1; then
    TOX_PARALLEL_NO_SPINNER=1 tox -q -p auto
else
    # Fallback to uv run tox if global tox not found
    TOX_PARALLEL_NO_SPINNER=1 uv run tox -q -p auto || uv run pytest
fi

echo "Running mypy..."
uv run mypy src/
